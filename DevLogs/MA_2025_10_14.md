# 2025-10-14 MA 开发日志
## 今日进展
- 调整了角色物体与迷宫比例：调整预设体Wall的高度，和玩家的scale。
- 成功实现了物体在迷宫中寻路的基本移动功能
- 添加了墙面和地面材质:从商店中获取，但绑定手机号不用了，搞了半天。。。
- 解决了摄像机透视的问题：调整FOV以及让相机位置适当后撤，并调整collider尺寸。
- 解决了物体卡墙角旋转的问题：调整collider，目前调整为胶囊型，但摩擦墙面还是会有阻力影响。并：
```
        // 冻结所有旋转，防止碰撞导致角色歪斜
        rb.constraints = RigidbodyConstraints.FreezeRotation;
```
- 解决鼠标旋转和A/D冲突的问题:- 
鼠标 **X 轴** → 控制玩家整体的左右旋转（水平视角）
鼠标 **Y 轴** → 只控制相机上下旋转（俯仰）
这样移动和转向不会冲突，也不会“飘”或“打架”
```
    void HandleMouseLook()
    {
        float mouseX = Input.GetAxis("Mouse X") * lookSensitivity * Time.deltaTime;
        float mouseY = Input.GetAxis("Mouse Y") * lookSensitivity * Time.deltaTime;

        // 玩家左右旋转
        transform.Rotate(Vector3.up * mouseX);

        // 相机上下旋转
        xRotation -= mouseY;
        xRotation = Mathf.Clamp(xRotation, minLookAngle, maxLookAngle);
        playerCamera.localRotation = Quaternion.Euler(xRotation, 0f, 0f);
    }
```
- 实现了第一人称视角:将相机作为玩家的子物体，position在物体y轴附近。
```
    [Header("相机设置")]
    public Transform playerCamera;    // 挂在玩家头部的相机
    public float minLookAngle = -45f;
    public float maxLookAngle = 45f;
```
- 解决了玩家起始生成问题:在[1,1]生成，因为Dig[1,1]。
```
  //玩家生成
  void SpawnPlayer()
  {
      if (playerPrefab == null) return;

      int startX = 1;
      int startY = 1;

      if (maze[startX, startY] != 0)
      {
          Debug.LogWarning("[1,1] 不是空格，无法生成玩家");
          return;
      }

      // 获取 Cube 高度（scale.y）并计算 Y 坐标
      float cubeHeight = playerPrefab.transform.localScale.y;
      float cubeHalfHeight = cubeHeight / 2f;

      // X/Z 偏移，避免与墙体重叠
      float offset = 0.01f;

      Vector3 startPos = new Vector3(startX + offset, cubeHalfHeight, startY + offset);

      player = Instantiate(playerPrefab, startPos, Quaternion.identity);
  }
```
# 反思
- 感觉太依赖AI了，脚本代码基本都是一键生成的，对自己编程能力提升有限。
- 具体的bug也不怎么思考，都是询问AI后才去想解决方法。
- 得多提升实操能力才行。
## 明日计划
- 明天可多，先缓一下，顺便想一下该怎么提升自己能力。
- 后续做起始点标记以及开关门动画以及绑定事件。