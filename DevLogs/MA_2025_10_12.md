# 2025-10-12 MA demo开发日志

## 今日进展
- 完成了角色的移动功能，编写 `PlayerCotroller`脚本,实现了`HandleMouseRotation()`和`HandleKeyboardMovement()`方法
<pre>    void HandleMouseRotation()
    {
        float mouseX = Input.GetAxis("Mouse X") * RotationSpeedX * Time.deltaTime;
        // 角色左右旋转（Y轴）：鼠标X轴控制角色转向
        transform.Rotate(Vector3.up * mouseX);
    }</pre>
<pre>    void HandleKeyboardMovement()
    {
        float horizontal = Input.GetAxis("Horizontal");
        float vertical = Input.GetAxis("Vertical");

        // 基于角色当前朝向计算移动方向：
        // forward = 角色前方（Z轴），right = 角色右方（X轴）
        Vector3 MoveDir = transform.forward * vertical + transform.right * horizontal;
        MoveDir.y = 0f; // 忽略Y轴（避免上下移动，适合地面角色）
        MoveDir.Normalize(); // 归一化向量，避免斜向移动速度过快

        transform.Translate(MoveDir * MoveSpeed * Time.deltaTime, Space.World);
    }</pre>
- 调试相机旋转逻辑，编写`CameraFollow`脚本解决了pitch(俯仰角)限制冲突问题:`Update()`与`LateUpdate()`函数冲突，将水平旋转与俯仰旋转分开书写。
<pre>
        // ---- 1️⃣ 读取鼠标输入（只控制俯仰）----
        float mouseY = Input.GetAxis("Mouse Y") * sensitivityY * Time.deltaTime;
        pitch -= mouseY; // 鼠标上移 → 仰视
        pitch = Mathf.Clamp(pitch, minPitch, maxPitch);

        // ---- 2️⃣ 同步玩家左右旋转（由 PlayerController 控制）----
        currentYRotation = player.eulerAngles.y;

        // ---- 3️⃣ 计算相机旋转与位置 ----
        Quaternion rotation = Quaternion.Euler(pitch, currentYRotation, 0f);
        Vector3 targetPosition = player.position + rotation * offset;

        transform.position = targetPosition;
        transform.LookAt(player.position + LookAtOffset);
        </pre>
## 明日计划
- 添加跳跃机制
- 完成迷宫地图场景搭建
